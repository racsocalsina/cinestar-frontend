<div class="form-general px-4 px-md-4" [formGroup]="form">
    <h3 class="font-helvetica-bold pl-3 pl-md-0 mb-3 ft-20">
        <img class="back mr-2 cursor-pointer"
             src="./assets/images/svg/arrow_right.svg" alt=""
             (click)="onBack.emit()">
        Editar perfil
    </h3>
    <div class="container">
        <div class="row">
            <div class="col-md-6 pl-md-0 pr-md-1">
                <div class="form-group d-flex justify-content-between align-items-center w-100" [ngStyle]="{'border-color': form.get('document_number')?.invalid && form.get('document_number')?.touched ? '#EF5350' : '#DDDDDD' }">
                    <ng-select class="select-sign-up" formControlName="document_type" [items]="typeDocuments" [searchable]="false"
                               [clearable]="false" bindLabel="name" bindValue="code" (change)="onChangeSelect()">
                    </ng-select>
                    <div class="md-input">
                        <input
                            *ngIf="form.get('document_type')?.value === Documents.DNI" formControlName="document_number" type="text" class="form-control form-control-1" id="documentNumber" placeholder="Num. de Doc."
                               alphaNumeric
                               alphaNumericType="n" minlength="8" maxlength="8">
                        <input

                            *ngIf="form.get('document_type')?.value === Documents.CE || form.get('document_type')?.value === Documents.PAS" formControlName="document_number" type="text" class="form-control form-control-1"
                               id="documentNumber" placeholder="Num. de Doc." alphaNumeric
                               alphaNumericType="an" minlength="1" maxlength="12">
                        <input
                               *ngIf="form.get('document_type')?.value === Documents.RUC" formControlName="document_number" type="text" class="form-control form-control-1" id="documentNumber" placeholder="Num. de Doc."
                               alphaNumeric
                               alphaNumericType="n" minlength="11" maxlength="11">
                        <label for="documentNumber" class="documentNumber">Num. de Doc.</label>
                    </div>
                </div>
            </div>
            <div class="col-md-6 pr-md-0 pl-md-1">
                <app-control-messages [control]="form.get('birthdate')" [showMessage]="false">
                    <div class="form-group md-input auth-calendar position-relative">
                        <input type="text" formControlName="birthdate"
                               placeholder=" " readonly
                               class="form-control form-control-2" [bsConfig]="bsConfig"
                               #dp="bsDatepicker" bsDatepicker placement="left">
                        <label class="label-date-born">Fecha de Nac.</label>
                        <div class="icon-calendar cursor-pointer cursor-pointer" >
                            <img src="./assets/images/svg/icon-calendar.svg" class="img-fluid" alt="">
                            <img src="./assets/images/svg/picker_arrow_down.svg" class="img-fluid ml-1" width="15" alt="">
                        </div>
                    </div>
                </app-control-messages>
            </div>
            <div class="col-md-6 pl-md-0 pr-md-1">
                <app-control-messages [control]="form.get('name')" [showMessage]="false">
                    <div class="form-group md-input">
                        <input formControlName="name" type="text" class="form-control" id="name" placeholder=" " alphaNumeric alphaNumericType="a">
                        <label for="name" class="">Nombre</label>
                    </div>
                </app-control-messages>
            </div>
            <div class="col-md-6 pr-md-0 pl-md-1">
                <app-control-messages [control]="form.get('lastname')" [showMessage]="false">
                    <div class="form-group md-input">
                        <input formControlName="lastname" type="text" class="form-control" id="lastName" placeholder=" " alphaNumeric alphaNumericType="a">
                        <label for="lastName" class="">Apellido</label>
                    </div>
                </app-control-messages>
            </div>
            <div class="col-md-6 pl-md-0 pr-md-1">
                <app-control-messages [control]="form.get('email')" [showMessage]="false">
                    <div class="form-group md-input">
                        <input formControlName="email" type="email" class="form-control" id="email" placeholder=" ">
                        <label for="email" class="">Email</label>
                    </div>
                </app-control-messages>
            </div>
            <div class="col-md-6 pr-md-0 pl-md-1">
                <app-control-messages [control]="form.get('cellphone')" [showMessage]="false">
                    <div class="form-group md-input">
                        <input formControlName="cellphone" type="text" class="form-control" id="phone" placeholder="Núm. Celular" alphaNumeric alphaNumericType="n">
                        <label for="phone" class="">Núm. Celular</label>
                    </div>
                </app-control-messages>
            </div>
            <div class="col-md-6 pr-md-0 pl-md-1 mb-3" style="padding-left: 3px !important; padding-right: 3px !important;">
                <app-control-messages [control]="form.get('department_id')">
                    <ng-select class="custom ubigeo select_sign_up"
                        formControlName="department_id"
                        placeholder="Departamento"
                        [items]="departments"
                        [clearable]="false"
                        bindLabel="name"
                        bindValue="id">
                    </ng-select>
                </app-control-messages>
            </div>

            <div class="col-12 text-danger my-2 mt-4 lh-1" *ngIf="error">
                {{error}}
            </div>

            <div class="col-md-12 text-center mt-5">
                <button class="btn btn-primary" [disabled]="isLoading" (click)="update()">
                                        <span class="bouncingLoader" *ngIf="isLoading">
                                            <span></span>
                                        </span>
                    <span *ngIf="!isLoading">Actualizar</span>
                </button>
            </div>
        </div>
    </div>
</div>
